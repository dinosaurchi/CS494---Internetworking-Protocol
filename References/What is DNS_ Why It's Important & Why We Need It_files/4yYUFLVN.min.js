window.Demandbase=window.Demandbase||{};
window.Demandbase.Config={clientId:"4yYUFLVN",disableEctModule:!0,key:"3ac4541ebcaf844d8554e74a88789b784d92f306",ads:{pixels:{ad:"1451325288",rt:"1451325328",cn:null}},analytics:{fieldMap:{1:"demandbase_sid",2:"audience",3:"audience_segment",4:"company_name",5:"marketing_alias",6:"industry",7:"sub_industry",8:"revenue_range",9:"employee_range",10:"city",11:"state",12:"country_name",13:"watch_list_account_status",14:"watch_list_account_territory",15:"watch_list_account_owner",16:"watch_list_account_segment_tier"}},
forms:{companyID:null,emailID:null},conditions:[],segments:[],content:[]};"undefined"===typeof window.console&&(window.console={log:function(){},debug:function(){}});"undefined"===typeof window.localStorage&&(window.localStorage={getItem:function(){},setItem:function(){}});"undefined"===typeof JSON&&(JSON={stringify:function(){},parse:function(){}});
Array.prototype.indexOf||(Array.prototype.indexOf=function(k,e){var a=this.length>>>0,b=Number(e)||0,b=0>b?Math.ceil(b):Math.floor(b);for(0>b&&(b+=a);b<a;b++)if(b in this&&this[b]===k)return b;return-1});
Object.keys||(Object.keys=function(){var k=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),a="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),b=a.length;return function(c){if("object"!=typeof c&&("function"!=typeof c||null===c))throw new TypeError("Object.keys called on non-object");var d,g=[];for(d in c)k.call(c,d)&&g.push(d);if(e)for(d=0;b>d;d++)k.call(c,a[d])&&g.push(a[d]);return g}}());
Array.prototype.some||(Array.prototype.some=function(k){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!==typeof k)throw new TypeError;for(var e=Object(this),a=e.length>>>0,b=2<=arguments.length?arguments[1]:void 0,c=0;c<a;c++)if(c in e&&k.call(b,e[c],c,e))return!0;return!1});
(function(k){function e(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};k[b].call(c.exports,c,c.exports,e);c.loaded=!0;return c.exports}var a={};e.m=k;e.c=a;e.p="/dist/scripts";return e(0)})([function(k,e){window.Demandbase.Config=window.Demandbase.Config||{};window.Demandbase.Config.hooks=window.Demandbase.Config.hooks||{};window.Demandbase.Connectors=window.Demandbase.Connectors||{};"function"!==typeof window.Demandbase.Config.hooks.onEctReady&&(window.Demandbase.Config.hooks.onEctReady=
function(){});window.Demandbase.utils={name:"Demandbase API Utilities",version:"1.16",logging:window.Demandbase.Config.logging||!1,debug:window.Demandbase.Config.debug||!1,callbackStack:[],callback:function(a){try{var b=window.Demandbase.utils.callbackStack;window.Demandbase.utils.log("Running Demandbase.utils.callback");for(var c in b){var d=b[c];"function"===typeof d&&(d.call(window.Demandbase,a),this.log("Running callback..."))}}catch(g){window.Demandbase.utils.alert("Error: "+g+"\n"+g.stack)}},
registerCallback:function(a){try{var b=window.Demandbase.utils.callbackStack,c=window.Demandbase.IP.CompanyProfile;-1==b.indexOf(a)&&b.push(a);c&&a.call(window.Demandbase,c)}catch(d){window.Demandbase.utils.alert("Error: "+d+"\n"+d.stack)}},flattenData:function(a){for(var b in a)if("object"==typeof a[b]&&null!==a[b]&&a.hasOwnProperty(b)){for(var c in a[b])a[b+"_"+c]=a[b][c];delete a[b]}return a},buildApiParamString:function(a){var b={referrer:document.referrer,page:document.URL,page_title:document.title};
if(window.top!==window.self){b.page=document.referrer;try{b.referrer=window.top.document.referrer,b.page_title=window.top.document.title}catch(c){b.referrer=null,b.page_title="3rd Party iFrame"}}b=this.extend(b,a);return this.buildQueryString(b)},buildApiUrl:function(a,b){var c=a||this.tokens.URL_IP_API,c=c+this.buildApiParamString(b);return c+=this.ect.buildParamString()},buildQueryString:function(a){var b="?",c;for(c in a)a.hasOwnProperty(c)&&(b+=c+"="+encodeURIComponent(a[c])+"&");return b=b.substring(0,
b.length-1)},extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},getAttrValue:function(a,b){var c=window.Demandbase.Config.nonCompanyDefault||window.Demandbase.utils.tokens.DFLT_NON_COMPANY,d=window.Demandbase.Config.emptyWatchDefault||window.Demandbase.utils.tokens.DFLT_AW_EMPTY,g={city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"}[b]||
"",g=a[b]||a[g]||c,c=(a.company_name||c)!==c,h=Object.keys(a).some(function(a){return 0===a.indexOf("watch_list_")});if(!1===a[b])return"false";-1!==b.indexOf("watch_list_")&&c&&(h||(d=window.Demandbase.Config.nonWatchDefault||window.Demandbase.utils.tokens.DFLT_NON_AW),g=a[b]||d);return g},getElementByIdOrName:function(a){var b=null;a&&((b=document.getElementById(a)||null)||(b=document.getElementsByName(a)[0]||null));return b},getQueryParam:function(a){var b={},c=window.location.search.substring(1),
d=c.split("&");if(!c)return"";for(c=0;c<d.length;c++){var g=d[c].split("=");b[g[0]]=g[1]}return b[a]||""},isCurrentPage:function(a,b){function c(a){return 0===a.indexOf("//")?a.substring(2,a.length):a.replace(/^.*?:\/\//g,"")}function d(a){-1!==a.indexOf("#",a.length-1)&&(a=a.substring(0,a.length-1));-1!==a.indexOf("/",a.length-1)&&(a=a.substring(0,a.length-1));return a}if(!a)return!1;var g=document.location.hash,h=document.location.search,f=document.location.href;window.top!==window.self&&(f=document.referrer);
b&&(h=b.indexOf("#"),-1===h&&(h=b.length),g=b.substring(b.indexOf("#"),b.length),h=b.substring(b.indexOf("?"),h),f=b);a=c(a);a=a.replace(/^(www\.)/g,"");a=d(a);f=c(f);f=f.replace(/^(www\.)/g,"");f=d(f);-1===a.indexOf("#")&&-1!==f.indexOf("#")&&(f=f.substring(0,f.length-g.length));-1===a.indexOf("?")&&-1!==f.indexOf("?")&&(f=f.substring(0,f.length-h.length));f=d(f);return f===a},isFormPage:function(){var a=window.Demandbase.Config.forms.emailFields||[];window.Demandbase.Config.forms.emailID&&a.push(window.Demandbase.Config.forms.emailID);
for(var b=0;b<a.length;b++)if(this.getElementByIdOrName(a[b]))return!0;return!1},jqid:function(a){return a?"#"+a.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null},alert:function(a){this.log(a)},log:function(a){("undefined"!==typeof window.console&&(this.logging||"true"===this.getQueryParam(window.Demandbase.utils.tokens.QS_ENABLE_LOG))||window.Demandbase.Config.logging)&&window.console.log("DB: "+a)},readCookie:function(a,b){return(b=document.cookie.match("(^|;)\\s*"+a+"\\s*=\\s*([^;]+)"))?b.pop():""},writeCookie:function(a,
b,c,d,g,h){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var f="";if(c)switch(c.constructor){case Number:f=Infinity===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:f="; expires="+c;break;case Date:f="; expires="+c.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+f+(g?"; domain="+g:"")+(d?"; path="+d:"")+(h?"; secure":"");return!0},loadDebugFile:function(){this.loadScript(this.tokens.URL_DEBUG_FILE,"db_debug_lib");this.log("Loaded Debug library...")},
loadScript:function(a,b,c){if(a){if(window.Demandbase._loadedScripts=window.Demandbase._loadedScripts||{},!window.Demandbase._loadedScripts[a]){window.Demandbase._loadedScripts[a]=!0;c=document.createElement("script");var d=document.getElementsByTagName("script")[0],g="https:"==document.location.protocol?"https:":"http:";c.async=!0;"undefined"!==typeof b&&b&&(c.id=b);0==a.indexOf("//")?a=g+a:0!==a.indexOf("http:")&&0!==a.indexOf("https:")&&(a=g+"//"+a);c.src=a;d.parentNode.insertBefore(c,d);this.log("Loaded: "+
a)}}else this.log("URL not provided.")},loadFormModule:function(a){var b=!1;if(b="function"===typeof window.Demandbase.Config.isFormPage?window.Demandbase.Config.isFormPage():window.Demandbase.utils.isFormPage()){var c=this.tokens.URL_FORM_MODULE;"undefined"!==typeof a&&"undefined"!==typeof a.debug&&a.debug&&(c=this.tokens.URL_FORM_MODULE_DEBUG);"undefined"!==typeof window.MktoForms2&&"undefined"!==typeof window.MktoForms2.whenReady?MktoForms2.whenReady(function(a){window.Demandbase.utils.loadScript(c,
"db_form_module")}):this.loadScript(c,"db_form_module");window.Demandbase.Connectors.initWebForm=function(a){window.Demandbase.Connectors.WebForm.connect(a||window.Demandbase.Config.forms||{})}}},ect:{delim:"-",values:{gpid:"",cid:"",sid:"",ip:"",impid:"",dmps:""},buildParamString:function(){var a="",b=window.Demandbase.utils.ect.values||null;if(b){if(b.gpid||b.cid||b.dmps)a="&gpid="+encodeURIComponent(b.gpid)+"&cid="+encodeURIComponent(b.cid)+"&dmps="+encodeURIComponent(b.dmps)+"&tip="+encodeURIComponent(b.ip)+
"&tsid="+encodeURIComponent(b.sid);b.impid&&(a=a+"&impid="+encodeURIComponent(b.impid))}return a},listener:function(a){if("undefined"!==typeof a&&0===window.Demandbase.utils.tokens.URL_ECT_PAGE.indexOf(a.origin)){for(var b=["ssid","tuuid"],c=0;c<b.length;c++)if(!a.data.hasOwnProperty(b[c]))return;window.Demandbase.utils.ect.unpack(a.data.ssid);window.Demandbase.utils.ect.values.impid=a.data.tuuid;window.Demandbase.Config.hooks.onEctReady();window.Demandbase.utils.log("ECT: msg received...IP API called");
window.Demandbase.IP._loadOnce()}},loadModule:function(a){if("undefined"!==typeof window.Demandbase.Config.disableEctModule&&!0===window.Demandbase.Config.disableEctModule)window.Demandbase.utils.log("ECT: Module is disabled in Config.");else{a=document.createElement("iframe");var b=document.getElementsByTagName("body")[0];b||(b=document.getElementsByTagName("head")[0]);a.src=window.Demandbase.utils.tokens.URL_ECT_PAGE+"?parent="+document.location.href;a.id="db_ect";a.height="0";a.width="0";a.style.display=
"none";b.appendChild(a);window.Demandbase.utils.log("ECT: added.")}},unpack:function(a){if(a){var b={gpid:0,cid:1,sid:2,ip:3,dmps:4};a=a.split(this.delim);this.values.gpid=a[b.gpid]||"";this.values.cid=a[b.cid]||"";this.values.sid=a[b.sid]||"";this.values.ip=a[b.ip]||"";this.values.dmps=a[b.dmps]||""}}},events:{add:function(a){try{var b=!0;if(this.isValid(a)){var c=a.type||window.Demandbase.utils.tokens.DFLT_EVENT_TYPE,d=a.elements,g=d.constructor;if(g===HTMLCollection||g===NodeList)for(var h in d)g=
!1,d.hasOwnProperty(h)&&(g=this._attachListener(d[h],c,a.listener),g||(b=!1,window.Demandbase.utils.log("Event not added to"+d[h])));else return this._attachListener(a.elements,c,a.listener)}else return window.Demandbase.utils.log("Event not added."),!1;return b}catch(f){window.Demandbase.utils.alert("Error: "+f+"\n"+f.stack)}},_attachListener:function(a,b,c){try{var d=!1;if(a)if("undefined"!==typeof jQuery&&a instanceof jQuery){if("undefined"!==typeof a.on)a.on(b,c);else a.bind(b,c);d=!0;window.Demandbase.utils.log("Event Listener bind to: "+
a+" on event "+b);a.attr("demandbase_event",!0)}else a.addEventListener?(a.addEventListener(b,function(){c.call()},!1),window.Demandbase.utils.log("Event Listener added to: "+a+" on event "+b),d=!0):a.attachEvent?(a.attachEvent(b,function(){c.call()}),window.Demandbase.utils.log("Event Attached to: "+a+" on event "+b),d=!0):window.Demandbase.utils.log("ERROR: no event attached to element: "+a),d&&"function"===typeof a.setAttribute&&a.setAttribute("demandbase_event",!0);else return window.Demandbase.utils.log("Event not registered - invalid element/s."),
null;return d}catch(g){window.Demandbase.utils.alert("Error _attachListener: "+g+"\n"+g.stack)}},isValid:function(a){for(var b=!1,c=["elements","listener"],d=a.elements||null,g=a.listener||null,h=window.Demandbase.utils,f=0;f<c.length;f++)if("undefined"===typeof a[c[f]]||!a[c[f]])return h.log("Invalid Event object. Missing: "+c[f]),!1;if("function"!==typeof g)return h.log('Invalid Event: "listener" must be a function. Got ('+g+")"),!1;d instanceof Node||d instanceof NodeList||d instanceof HTMLElement||
d instanceof HTMLCollection||d instanceof Window||d instanceof Document||"function"===typeof d||"undefined"!==typeof jQuery&&d instanceof jQuery?b=!0:h.log("Invalid Event:  element: "+d+' has type: "'+d.constructor+'" which is not proper instance type.');return b}},tokens:{ERR_NO_AUTH_KEY:"ERR_NO_AUTH_KEY",ERR_NO_PIXEL_ID:"ERR_NO_PIXEL_ID",QS_USE_TEST_IP:"db_useTestIp",QS_USE_TEST_DOMAIN:"db_useTestDomain",QS_QUERY_IP:"db_ip",QS_QUERY_DOMAIN:"db_domain",QS_ENABLE_LOG:"db_logging",QS_ENABLE_DEBUG:"db_debug",
QS_ENABLE_TEST_MODE:"db_testMode",TEST_MODE_NAME:"dbtme",DFLT_NON_COMPANY:"(Non-Company Visitor)",DFLT_AW_EMPTY:"(AccountWatch Empty)",DFLT_NON_AW:"(Non-AccountWatch Visitor)",DFLT_EVENT_TYPE:"click",URL_FORM_MODULE:"scripts.demandbase.com/forms.min.js",URL_FORM_MODULE_DEBUG:"scripts.demandbase.com/forms.js",URL_IP_API:"api.demandbase.com/api/v2/ip.json",URL_DOMAIN_API:"api.demandbase.com/api/v1/domain.json",URL_AD_PIXEL:"a.company-target.com/pixel?type=js&id=",URL_ECT_PAGE:document.location.protocol+
"//b.company-target.com/ect.html",URL_DEBUG_FILE:document.location.protocol+"//scripts.demandbase.com/"+window.Demandbase.Config.clientId+".js",URL_TEST_FILE:document.location.protocol+"//tag.demandbase.com/clients/"+window.Demandbase.Config.clientId+"/"+window.Demandbase.Config.clientId+".js",ECT_NAME:"ssid",URL_CURRENT:function(){var a=document.URL;window.top!==window.self&&(a=document.referrer);return a=encodeURIComponent(a)}(),PROTOCOL:"https:"==document.location.protocol?"https://":"http://"}};
window.Demandbase.IP={name:"Demandbase IP API Wrapper",key:window.Demandbase.Config.key||window.Demandbase.Config.analytics.key||window.Demandbase.Config.ads.key||window.Demandbase.Config.forms.key||window.Demandbase.utils.tokens.ERR_NO_AUTH_KEY,CompanyProfile:null,isCalled:!1,useTestValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_USE_TEST_IP)||window.Demandbase.Config.useTestIp||!1,testValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_QUERY_IP)||
window.Demandbase.Config.testIp||"No Test IP Set",_callback:function(a){if(a)try{var b=window.Demandbase.utils;this.CompanyProfile=a=b.flattenData(a);b.callback(a);"undefined"==typeof window.Demandbase.Connectors.WebForm&&b.loadFormModule({debug:window.Demandbase.Config.debug||window.Demandbase.Config.forms.debug||!1})}catch(c){window.Demandbase.utils.alert("IP API Error: "+c+" : "+c.stack)}},load:function(a,b){try{var c=window.Demandbase.utils;if(this.key==c.tokens.ERR_NO_AUTH_KEY&&"undefined"==
typeof a)c.log("IP API query cancelled - check auth key.");else{var d={},g="",h="undefined"!==typeof a?a:this.key,f="undefined"!==typeof b&&!1===b?"Demandbase.Ads.track":"Demandbase.IP._callback";this.useTestValue?g=this.testValue:"undefined"!==typeof c.ect.values.ip&&c.ect.values.ip&&(g=c.ect.values.ip);d={key:h,callback:f,query:g};c.log("Calling IP API...");c.loadScript(c.buildApiUrl(c.tokens.URL_IP_API,d),"db_ip_api")}}catch(e){window.Demandbase.utils.alert("IP API Error: "+e+" : "+e.stack)}},
_loadOnce:function(){this.isCalled?window.Demandbase.utils.log("IP API call blocked (already called, wait for callback)"):(this.load(),this.isCalled=!0)}};window.Demandbase.Domain={name:"Demandbase Domain API Wrapper",key:window.Demandbase.Config.key||window.Demandbase.Config.analytics.key||window.Demandbase.Config.ads.key||window.Demandbase.Config.forms.key||window.Demandbase.utils.tokens.ERR_NO_AUTH_KEY,CompanyProfile:null,useTestValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_USE_TEST_DOMAIN)||
window.Demandbase.Config.useTestDomain||!1,testValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_QUERY_DOMAIN)||window.Demandbase.Config.testDomain||"No Test Domain Set",_callback:function(a){try{var b=window.Demandbase.utils;a.domain||a.person?(a=a.domain||a.person,this.CompanyProfile=a=b.flattenData(a)):window.Demandbase.utils.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain())}catch(c){window.Demandbase.utils.alert("Domain API Error: "+
c+" : "+c.stack)}},load:function(){var a=window.Demandbase.utils;if("function"===typeof window.Demandbase.Config.getDomain&&this.key!==a.tokens.ERR_NO_AUTH_KEY){var b="",b={},b=this.useTestValue?this.testValue:this.getDomain(),b={key:this.key,callback:"Demandbase.Domain._callback",query:b};a.log("Calling Domain API...");a.loadScript(a.buildApiUrl(a.tokens.URL_DOMAIN_API,b),"db_domain_api")}else window.Demandbase.utils.log("Domain API query cancelled - check auth key or Config.getDomain")},getDomain:function(a){try{if(this.useTestValue)return this.testValue;
if("function"===typeof window.Demandbase.Config.getDomain)return window.Demandbase.Config.getDomain.call(window.Demandbase.Config);window.Demandbase.utils.log("Warning: Config.getDomain fcn not defined.");return"getVisitorDomain function is not defined"}catch(b){window.Demandbase.utils.alert("getDomain Error: "+b+" : "+b.stack)}}};(function(){window.Demandbase.init=function(){var a=window.Demandbase.utils;if("undefined"!==typeof window.Demandbase.Config.enableTestMode&&!0===window.Demandbase.Config.enableTestMode&&
"true"===a.readCookie(a.tokens.TEST_MODE_NAME)){var b="";"true"===a.getQueryParam(a.tokens.QS_ENABLE_TEST_MODE)?(b=a.tokens.URL_TEST_FILE,a.log("Re-loading with TEST file...")):"true"===a.getQueryParam(a.tokens.QS_ENABLE_DEBUG)&&(b=a.tokens.URL_DEBUG_FILE,a.log("Re-loading DEBUG file..."));if(b)throw a.writeCookie(a.tokens.TEST_MODE_NAME,"false",86400,"/"),a.loadScript(b),window.Demandbase={},Error("Tag load halted. Entering TEST MODE (no error).");a.log("Set qs param to enable TEST or DEBUG mode. Loading as normal...")}if("undefined"!==
typeof window.Demandbase.Config.disableEctModule&&!0===window.Demandbase.Config.disableEctModule)window.Demandbase.IP.load();else if("undefined"===typeof window.Demandbase.Config.disableEctModule||!1===window.Demandbase.Config.disableEctModule)a.ect.loadModule(),a=200,"undefined"!==typeof window.Demandbase.Config.ectTimeout&&(a=window.Demandbase.Config.ectTimeout),setTimeout(function(){window.Demandbase.IP.isCalled||window.Demandbase.IP._loadOnce()},a);"function"===typeof window.Demandbase.Config.getDomain&&
window.Demandbase.Config.getDomain()&&window.Demandbase.Domain.load();window.Demandbase._isInitialized=!0};window.Demandbase.version="2.0.3"})();(function(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent(a,c):window.Demandbase.utils.log("Message listener not attached.  Unable to receive ECT message.")})("message",window,window.Demandbase.utils.ect.listener);(function(){var a=window.Demandbase.utils.callback;window.Demandbase.utils.callback=function(b){window.Demandbase.utils.log("Setup callback extender...");
"function"===typeof window.Demandbase.Config.callback&&window.Demandbase.Config.callback.call(window.Demandbase,b);a.apply(window.Demandbase.utils,[b])};"undefined"!==typeof window.MktoForms2&&"undefined"!==typeof window.MktoForms2.whenReady&&MktoForms2.whenReady(function(a){window.Demandbase.utils.loadFormModule({debug:window.Demandbase.Config.debug||window.Demandbase.Config.forms.debug||!1})})})();window.Demandbase.init()}]);
(function(k){function e(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};k[b].call(c.exports,c,c.exports,e);c.loaded=!0;return c.exports}var a={};e.m=k;e.c=a;e.p="/dist/scripts";return e(0)})([function(k,e){window.Demandbase.Connectors.Google_Analytics={name:"Demandbase Universal Analytics Connector",version:"7.1.2",fields:window.Demandbase.Config.analytics.fieldMap||{},CompanyProfile:null,gType:"ua",trackerName:"",track:function(a){try{if(!a)throw"Error - no data passed to callback";
var b=window.Demandbase.Connectors.Google_Analytics,c=window.Demandbase.utils;a=c.flattenData(a);b._toGtmDl(a);b.CompanyProfile=a;b._detectG();b._setTrackerName();for(var d in b.fields)if(b.fields.hasOwnProperty(d)){var g=d,h=b.fields[d],f=c.getAttrValue(a,h);b._var(g,h,f.toString())}b._cEvent("Demandbase","API Resolution","IP API")}catch(e){window.Demandbase.utils.alert("GA Error: "+e+"\n"+e.stack),window.Demandbase.Connectors.Google_Analytics._cEvent("Demandbase","API Resolution","Callback Error")}},
load:function(){try{window.Demandbase.utils.registerCallback(this.track),this._setEvents()}catch(a){window.Demandbase.utils.alert("GA Error: "+a+"\n"+a.stack)}},_log:function(a){window.Demandbase.utils.log("GA: "+a)},_var:function(a,b,c){"ga"===this.gType?window._gaq.push([this.trackerName?this.trackerName+"._setCustomVar":"_setCustomVar",a>>0,b,c,window.Demandbase.Config.analytics.googleAnalyticsClassicScope||2]):ga(this.trackerName?this.trackerName+".set":"set","dimension"+a,c);this._log(a+" "+
b+" : "+c)},_cEvent:function(a,b,c){"ga"===this.gType?window._gaq.push([this.trackerName?this.trackerName+"._trackEvent":"_trackEvent",a,b,c,0,1]):ga(this.trackerName?this.trackerName+".send":"send","event",{eventCategory:a,eventAction:b,eventLabel:c,nonInteraction:!0});this._log("Sent Custom Event:"+a+"/"+b+"/"+c)},_toGtmDl:function(a,b){window.google_tag_manager&&window.dataLayer&&(dataLayer.push(a),dataLayer.push({event:"Demandbase_Loaded"+("undefined"===typeof b?"":"_"+b)}),this._log("Pushed to GTM dataLayer"))},
_detectG:function(){"function"===typeof window.ga?this.gType="ua":window._gaq?(this.gType="ga",_gaq.push(["_addDevId","NE7T9"])):(window.ga||(window.ga=function(){(ga.q=ga.q||[]).push(arguments)}),this.gType="ua");this._log("Detected Google version: "+this.gType)},_setEvents:function(){var a=window.Demandbase.Config.analytics.events||[],b=window.Demandbase.utils,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d.data){var g=d.data.category||"",h=d.data.action||"",f=d.data.label||"";"undefined"===
typeof d.listener&&g&&h&&f?d.listener=function(){window.Demandbase.Connectors.Google_Analytics._cEvent(g,h,f);window.Demandbase.utils.log("Event listener ran....")}:g&&h&&f||this._log("Need to define a custom listener function or set data with category/action/label")}b.events.add(d)}},_setTrackerName:function(){if("undefined"!==typeof window.Demandbase.Config.analytics.trackerName&&window.Demandbase.Config.analytics.trackerName)this.trackerName=window.Demandbase.Config.analytics.trackerName;else if("function"===
typeof window.ga&&"function"===typeof window.ga.getAll){var a=ga.getAll()||[];0<a.length&&(a=a[0],this.trackerName=a=a.get("name")||"")}else"undefined"!==typeof window._gat&&"function"===typeof window._gat._getTrackers&&(a=_gat._getTrackers(),0<a.length&&(a=a[0],this.trackerName=a=a._getName()||""))}};window.Demandbase.Connectors.Google_Analytics.load()}]);
(function(k){function e(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};k[b].call(c.exports,c,c.exports,e);c.loaded=!0;return c.exports}var a={};e.m=k;e.c=a;e.p="/dist/scripts";return e(0)})([function(k,e){window.Demandbase.Ads={name:"Demandbase Ad Connector",version:"4.2.2",pixels:window.Demandbase.Config.ads.pixels||{},conversionTriggers:window.Demandbase.Config.ads.conversionTriggers||{},track:function(a){try{window.Demandbase.Ads._log("tracked.")}catch(b){window.Demandbase.utils.alert("Ads Error: "+
b+"\n"+b.stack)}},trackConversion:function(){this._loadPixel("cn")},load:function(){try{this._setCampaign(),this.loadPixels(),this._setEvents(),window.Demandbase.utils.registerCallback(this.track),"undefined"!==typeof window.Demandbase.Config.ads.reportingOnly&&!0===window.Demandbase.Config.ads.reportingOnly&&window.Demandbase.Config.ads.key!==window.Demandbase.IP.key&&window.Demandbase.IP.load(window.Demandbase.Config.ads.key,!1)}catch(a){window.Demandbase.utils.alert("Ads Error: "+a+"\n"+a.stack)}},
loadPixels:function(){try{this._loadPixel("ad"),this.isConversionPage()?this.trackConversion():this._loadPixel("rt")}catch(a){window.Demandbase.utils.alert("Ads Error: "+a+"\n"+a.stack)}},isConversionPage:function(a){if("undefined"!==typeof this.conversionTriggers.pages){var b=window.Demandbase.utils;a=a?[a]:this.conversionTriggers.pages;for(var c in a)if(a.hasOwnProperty(c)&&b.isCurrentPage(a[c]))return!0}return!1},_loadPixel:function(a){var b=this.pixels[a]||window.Demandbase.utils.tokens.ERR_NO_PIXEL_ID;
if(b&&b!==window.Demandbase.utils.tokens.ERR_NO_PIXEL_ID){var c=document.createElement("img"),d=document.getElementsByTagName("body")[0],g=window.Demandbase.utils;c.setAttribute("style","display:none");c.setAttribute("alt","Demandbase pixel");c.id="db_pixel_"+a;c.src=g.tokens.PROTOCOL+g.tokens.URL_AD_PIXEL+b+"&page="+g.tokens.URL_CURRENT;"undefined"!==typeof d&&d||(d=document.getElementsByTagName("head")[0]);d.appendChild(c);this._log("Loaded Pixel "+c.src)}},_setCampaign:function(){if("undefined"!==
typeof window.Demandbase.Config.ads.campaigns)for(var a=window.Demandbase.Config.ads.campaigns||[],b=window.Demandbase.utils,c=0;c<a.length;c++)for(var d=a[c],g=d.pages||[],h=0;h<g.length;h++)if(b.isCurrentPage(g[h])){this.pixels=d.pixels;this.conversionTriggers=d.conversionTriggers;this._log("Campaign set to: "+d.name);return}},_setEvents:function(){if("undefined"!==typeof this.conversionTriggers.events){var a=this.conversionTriggers.events||[],b;for(b in a)if(a.hasOwnProperty(b)){var c=a[b];c.listener||
(c.trackConversion?c.listener=function(){window.Demandbase.Ads.trackConversion()}:c.virtualPageview?c.listener=function(){window.Demandbase.Ads.loadPixels();window.Demandbase.IP.load(void 0,!1)}:this._log("Define a listener function or set trackConversion or virtualPageview"));window.Demandbase.utils.events.add(c)}}else this._log("No events in conversionTriggers")},_log:function(a){window.Demandbase.utils.log("Ads: "+a)}};window.Demandbase.Ads.load()}]);
(function(k){function e(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};k[b].call(c.exports,c,c.exports,e);c.loaded=!0;return c.exports}var a={};e.m=k;e.c=a;e.p="/dist/scripts";return e(0)})([function(k,e){var a,b;"undefined"===typeof window.__db&&(b=a=null);window.Demandbase.DBCondition=function(a,b,c,f,e){this.name=a;this.attributeValue=b;this.operator=c;this.value=f;this.attributeName=e;this._checkValue=function(a){switch(c){case "equals":return this.attributeValue==a;case "not equals":return this.attributeValue!==
a;case "contains":return-1!==this.attributeValue.indexOf(a);default:return!1}};this.evaluate=function(){c=this.operator.toLowerCase();c=window.Demandbase.DBCondition.prototype.supportedOperators[c];if("object"===typeof this.value){for(var a in this.value)if(!0===this._checkValue(this.value[a]))return!0;return!1}return this._checkValue(this.value)}};window.Demandbase.DBCondition.prototype.name="DBCondition";window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",
equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"};window.Demandbase.DBConditionBuilder={isValid:function(a){for(var b=["name","attributeValue","operator","value","attributeName"],c=0;c<b.length;c++)if("undefined"===typeof a[b[c]])return!1;return!0},build:function(a,b){try{if("undefined"!==typeof a.constructor.prototype.name&&"DBCondition"===a.constructor.prototype.name)return a;a.attributeName||(a.attributeName=
a.attribute||"NO_ATTR_SET");a.attributeValue=b[a.attribute]||"";return this.isValid(a)?new window.Demandbase.DBCondition(a.name,a.attributeValue,a.operator,a.value,a.attributeName):null}catch(c){window.Demandbase.utils.log("DBConditionBuilder: "+c+"\n"+c.stack)}}};var c=function(a,b){this.name=a;this.rules=[];this.operator="";this.addCondition=function(a){if(!a||!a.evaluate)if("undefined"===typeof a.constructor.prototype.name||"DBCondition"!==a.constructor.prototype.name)if(a=window.Demandbase.DBConditionBuilder.build(a,
window.Demandbase.Segments.CompanyProfile))window.Demandbase.utils.log("DBSegmentBuilder converted condition successfully...");else throw"Invalid Condition: "+a.name;this.rules.push(a);switch(this.operator||c.prototype.supportedOperators.any){case "and":return this.value=this.value&&a.evaluate();case "or":return this.value=this.value||a.evaluate();default:return a.evaluate()}};this.value=this.addCondition(b)};c.prototype.name="DBSegment";c.prototype.supportedOperators={"&&":"and","&":"and",and:"and",
"||":"or","|":"or",or:"or",any:"or",all:"and"};window.Demandbase.DBSegmentBuilder={isValid:function(a){for(var b=["name","operator","rules"],c=0;c<b.length;c++)if("undefined"===typeof a[b[c]])return!1;return"Array"!==a.rules.constructor.name?!1:!0},build:function(a){try{if(!this.isValid(a))return null;var b,h=a.name,f=a.rules[0],e=a.operator;if(f){b=new c(h,f);b.operator=c.prototype.supportedOperators[e]||c.prototype.supportedOperators.any;if(1<a.rules.length)for(h=1;h<a.rules.length;h+=1){f=a.rules[h];
if("undefined"===typeof f.constructor.prototype.name||"DBCondition"!==f.constructor.prototype.name){var k=window.Demandbase.DBConditionBuilder.build(f,void 0);k&&(f=k)}b.addCondition(f)}return b}}catch(l){window.Demandbase.utils.log("DBSegmentBuilder: "+l+"\n"+l.stack)}}};window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:window.Demandbase.utils.debug||!1,_allConditions:window.Demandbase.Config.conditions||
b||[],_allSegments:window.Demandbase.Config.segments||a||[],_isInitialized:!1,_setup:function(){try{this._isInitialized&&this._reset();this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{});"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0);for(var a in this.CompanyProfile)this.CompanyProfile.hasOwnProperty(a)&&0===a.indexOf("watch_list_")&&(this.AccountWatchVisitor=
!0);for(var b in this._allConditions)this._allConditions.hasOwnProperty(b)&&this._allConditions[b]&&("undefined"===typeof this._allConditions[b].constructor.prototype.name||"DBCondition"!==this._allConditions[b].constructor.prototype.name)&&this.add("condition",this._allConditions[b]);for(var c in this._allSegments)this._allSegments.hasOwnProperty(c)&&this._allSegments[c].name&&("undefined"===typeof this._allSegments[c].constructor.prototype.name||"DBSegment"!==this._allSegments[c].constructor.prototype.name)&&
this.add("segment",this._allSegments[c])}catch(f){window.Demandbase.utils.alert("Segments: "+f+"\n"+f.stack)}},_reset:function(){this._allConditions=window.Demandbase.Config.conditions||b||[];this._allSegments=window.Demandbase.Config.segments||a||[]},load:function(){try{window.Demandbase.utils.registerCallback(this.init)}catch(a){window.Demandbase.utils.alert("Segments: "+a+"\n"+a.stack)}},init:function(a){try{var b=window.Demandbase.Segments;b.CompanyProfile=a;b._setup();b._isInitialized=!0}catch(c){window.Demandbase.utils.alert("Segments: "+
c+"\n"+c.stack)}},getActiveSegments:function(){var a=[],b;for(b in this._allSegments)this._allSegments.hasOwnProperty(b)&&this._allSegments[b].value&&a.push(this._allSegments[b]);return a},getInactiveSegments:function(){var a=[],b;for(b in this._allSegments)this._allSegments.hasOwnProperty(b)&&(this._allSegments[b].value||a.push(this._allSegments[b]));return a},add:function(a,b){try{if(!a||!b||b=={})return window.Demandbase.utils.log("Demandbase.Segments.add operation failed due to invalid/empty parameters."),
null;if("condition"===a){for(var h,f=this._allConditions.length,e=0;e<this._allConditions.length;e++)if(this._allConditions[e].name===b.name){f=e;break}(h=window.Demandbase.DBConditionBuilder.build(b,this.CompanyProfile))?this._allConditions[f]=h:window.Demandbase.utils.log("Invalid Condition (not created) from: "+JSON.stringify(b));if("undefined"===typeof b.standalone||!1!==b.standalone){var k=b.name;this.add("segment",{name:k,rules:[k],operator:c.prototype.supportedOperators.any})}}else if("segment"===
a){if("segment"!==this.isValid(b))return null;var l,q=this._allSegments.length,m=b.rules||[];for(h=0;h<this._allSegments.length;h++)if(this._allSegments[h].name===b.name){q=h;break}for(h=0;h<m.length;h++){var n=m[h];c.prototype.supportedOperators[n]||(c.prototype.supportedOperators[n]||(l=this.get("condition",n)),l?m[h]=l:window.Demandbase.utils.log("Segment: "+b+" uses a Condition ("+m[h]+") that is not defined."))}b.rules=m;if(e=window.Demandbase.DBSegmentBuilder.build(b))if(this._allSegments[q]=
e,this.hasOwnProperty(e.name))this[e.name]=e;else try{Object.defineProperty(this,e.name,{value:e.value,writable:!0})}catch(p){window.Demandbase.Segments[e.name]=e.value}else window.Demandbase.utils.log("Invalid Segment (not created) from: "+JSON.stringify(b))}else window.Demandbase.utils.log('Invalid "type" parameter ('+a+') passed to "add" function.  Must be "segment" or "condition".')}catch(p){window.Demandbase.utils.alert("Segments: "+p+"\n"+p.stack)}},get:function(a,b){var e=[];1===arguments.length&&
(b=a);if("condition"===a){if("undefined"!==typeof b.constructor.prototype.name&&"DBCondition"===b.constructor.prototype.name)return b;e=this._allConditions}else{if("undefined"!==typeof b.constructor.prototype.name&&"DBSegment"===b.constructor.prototype.name)return b;e=this._allSegments}for(var f in e)if(this._allConditions[f].name===b)return this._allConditions[f];c.prototype.supportedOperators[b]||window.Demandbase.utils.log('No item with type: "'+a+'" found with name: '+b);return null},isValid:function(a){var b,
c=["name","rules"],f=["name","attribute","operator","value"];if(!a)return!1;if("undefined"!==typeof a.constructor.prototype.name&&"DBSegment"===a.constructor.prototype.name)return"segment";if("undefined"!==typeof a.constructor.prototype.name&&"DBCondition"===a.constructor.prototype.name)return"condition";try{if(a.hasOwnProperty("name")&&a.hasOwnProperty("rules")){if("object"===typeof a.rules)return"segment"}else for(var e in c)if(!a.hasOwnProperty(c[e]))return window.Demandbase.utils.log('Invalid DBSegment definition.  Missing property:"'+
c[e]+'"'),!1;if(b)return b;for(e in f)if(a.hasOwnProperty(f[e]))b="condition";else return window.Demandbase.utils.log('Invalid DBCondition definition.  Missing property:"'+f[e]+'"'),!1;return b}catch(k){return window.Demandbase.utils.alert("Segments: "+k+"\n"+k.stack),!1}}};window.Demandbase.Segments.load()}]);"function"===typeof window.Demandbase.Config.onLoad&&window.Demandbase.Config.onLoad.call(window.Demandbase);
